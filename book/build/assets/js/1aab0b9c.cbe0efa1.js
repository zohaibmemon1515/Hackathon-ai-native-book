"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[8318],{3708:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>g,frontMatter:()=>l,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"ros2/chapter3/lesson3","title":"Debugging and Logging in ROS 2","description":"Learning Objectives","source":"@site/docs/ros2/chapter3/lesson3.md","sourceDirName":"ros2/chapter3","slug":"/ros2/chapter3/lesson3","permalink":"/Hackathon-ai-native-book/docs/ros2/chapter3/lesson3","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ros2/chapter3/lesson3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Debugging and Logging in ROS 2","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Understanding and Using Launch Files","permalink":"/Hackathon-ai-native-book/docs/ros2/chapter3/lesson2"},"next":{"title":"ROS 2 \u2013 Robotic Nervous System","permalink":"/Hackathon-ai-native-book/docs/ros2/"}}');var i=s(4848),r=s(8453);const l={title:"Debugging and Logging in ROS 2",sidebar_position:3},t=void 0,a={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Concept Explanation",id:"concept-explanation",level:2},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Mathematical or technical breakdown",id:"mathematical-or-technical-breakdown",level:2},{value:"Mini-Project",id:"mini-project",level:2},{value:"Summary",id:"summary",level:2},{value:"APA-style references",id:"apa-style-references",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Understand ROS 2's logging mechanisms and severity levels."}),"\n",(0,i.jsxs)(n.li,{children:["Learn how to use ",(0,i.jsx)(n.code,{children:"ros2 log"})," and ",(0,i.jsx)(n.code,{children:"rqt_console"})," for monitoring messages."]}),"\n",(0,i.jsx)(n.li,{children:"Explore basic debugging techniques for ROS 2 nodes."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"concept-explanation",children:"Concept Explanation"}),"\n",(0,i.jsxs)(n.p,{children:["Effective ",(0,i.jsx)(n.strong,{children:"debugging and logging"})," are crucial for developing robust ROS 2 applications. ROS 2 provides a comprehensive logging system that allows nodes to output messages with different severity levels (DEBUG, INFO, WARN, ERROR, FATAL). These messages can be monitored and filtered to diagnose issues."]}),"\n",(0,i.jsx)(n.p,{children:"Key tools and concepts:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Logging macros/functions"}),": ",(0,i.jsx)(n.code,{children:'self.get_logger().info("message")'}),", ",(0,i.jsx)(n.code,{children:"RCLCPP_INFO()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Severity levels"}),": Categorize messages by importance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"ros2 log"})}),": Command-line tool to view live log messages from the entire ROS 2 system."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"rqt_console"})}),": A graphical tool for filtering, viewing, and saving ROS 2 log messages."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Debugging"}),": Using tools like GDB (for C++) or ",(0,i.jsx)(n.code,{children:"pdb"})," (for Python) combined with ROS 2 specific techniques (e.g., attaching to running nodes)."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Logging sensor readings for analysis."}),"\n",(0,i.jsx)(n.li,{children:"Debugging a robot's motion planner by increasing log level to DEBUG."}),"\n",(0,i.jsxs)(n.li,{children:["Monitoring warnings from a navigation stack using ",(0,i.jsx)(n.code,{children:"rqt_console"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"mathematical-or-technical-breakdown",children:"Mathematical or technical breakdown"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 log messages typically include the logger name (usually the node's name), severity level, and the message itself. The logging system is configurable, allowing developers to set log levels for individual nodes or the entire system."}),"\n",(0,i.jsx)(n.p,{children:"Python logging example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyLoggerNode(Node):\n    def __init__(self):\n        super().__init__('my_logger_node')\n        self.counter = 0\n        self.timer = self.create_timer(1.0, self.timer_callback)\n\n    def timer_callback(self):\n        self.counter += 1\n        self.get_logger().info(f'This is an INFO message. Counter: {self.counter}')\n        if self.counter % 5 == 0:\n            self.get_logger().warn(f'This is a WARNING message. Counter: {self.counter}')\n        if self.counter % 10 == 0:\n            self.get_logger().error(f'This is an ERROR message. Counter: {self.counter}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MyLoggerNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can change a node's log level at runtime using ",(0,i.jsx)(n.code,{children:"ros2 param set /my_logger_node logger_level DEBUG"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"mini-project",children:"Mini-Project"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Experiment with ROS 2 Logging"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Implement the ",(0,i.jsx)(n.code,{children:"MyLoggerNode"})," example above."]}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"ros2 run my_package my_logger_node"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["In a separate terminal, run ",(0,i.jsx)(n.code,{children:"ros2 log"})," to see the messages."]}),"\n",(0,i.jsxs)(n.li,{children:["Experiment with ",(0,i.jsx)(n.code,{children:"rqt_console"})," to filter messages by severity and node name."]}),"\n",(0,i.jsxs)(n.li,{children:["Change the log level of ",(0,i.jsx)(n.code,{children:"my_logger_node"})," at runtime and observe the effect."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 provides robust logging capabilities with various severity levels and monitoring tools like ",(0,i.jsx)(n.code,{children:"ros2 log"})," and ",(0,i.jsx)(n.code,{children:"rqt_console"}),". These are indispensable for diagnosing issues and ensuring the smooth operation of complex robotic systems."]}),"\n",(0,i.jsx)(n.h2,{id:"apa-style-references",children:"APA-style references"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["ROS 2 Documentation. (n.d.). ",(0,i.jsx)(n.em,{children:"Logging and Debugging"}),". Retrieved from ",(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Logging-and-Debugging/Logging-and-Debugging.html",children:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Logging-and-Debugging/Logging-and-Debugging.html"})]}),"\n",(0,i.jsxs)(n.li,{children:["ROS 2 Documentation. (n.d.). ",(0,i.jsx)(n.em,{children:"rqt_console"}),". Retrieved from ",(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tools/rqt_console/rqt_console.html",children:"https://docs.ros.org/en/humble/Tools/rqt_console/rqt_console.html"})]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>t});var o=s(6540);const i={},r=o.createContext(i);function l(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);